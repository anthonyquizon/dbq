
â€¢term.RawMode 1


tâ†"ğ•¨ğ•©"
uâ†"wx"

eâ†@+27

châ†âŸ¨âŸ©

CharPâ†{ 'R':âŸ¨âŸ©; câˆ¾ğ•Š câ†â€¢term.CharB @ }
Posâ†{ğ•Š:â€¢ParseFloatÂ¨';'((âŠ¢-Ëœ+`Ã—Â¬)âˆ˜=âŠ”âŠ¢) Â¯1â†“2â†“CharP @}

Mapâ†{
  ğ•¨ğ•Šğ•©: âŠ‘"\"=Â¯1â†‘ğ•¨ ? (Â¯1â†“ğ•¨)âˆ¾t/Ëœğ•©=u 
; ğ•¨ğ•Šğ•©: ğ•©=@+10   ? âŸ¨âŸ©             # TODO execute command
; ğ•¨ğ•Šğ•©: ğ•©=@+127  ? Â¯1â†“ğ•¨ # 
; ğ•¨ğ•Šğ•©: ğ•©=@+21   ? âŸ¨âŸ©
; ğ•¨ğ•Šğ•©: ğ•©=e      ? â€¢ShowâŸ¨â€¢term.CharB @, â€¢term.CharB @âŸ© â‹„ ""
; ğ•¨ğ•Š"[D"        : â€¢Show ğ•© â‹„ğ•¨
; ğ•¨ğ•Š"[C"        : â€¢Show ğ•© â‹„ğ•¨
; ğ•¨ğ•Šğ•©: ğ•¨âˆ¾ğ•©
}

{ğ•Š:
  châ†©ch Map â€¢term.CharB @

  #â€¢term.OutRaw eâˆ¾"[6n"
  #â€¢term.Flush@
   #Â¯1â†“2â†“CharP @ # drop escape,[ and R
  #psâ†â€¢ParseFloatÂ¨';'((âŠ¢-Ëœ+`Ã—Â¬)âˆ˜=âŠ”âŠ¢) Â¯1â†“2â†“CharP @ # drop escape,[ and R
  #â€¢SHow ps

  â€¢term.OutRaw eâˆ¾"[2K"âˆ¾eâˆ¾"[0G"
  â€¢term.OutRaw â€¢ToUTF8 ch
  #(k=@+127)â—¶{ğ•Š:â€¢term.OutRaw â€¢ToUTF8 ch}â€¿{ğ•Š:""} @
  â€¢term.Flush@
}â€¢_while_ 1 @

