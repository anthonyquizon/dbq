
# picosat?

râ†â€¢MakeRand 10
#grâ†2 â‹„ glâ†1.5â‹„ srâ†1â‹„ slâ†0.9                     # sl: length shrink factor, gr: range factor, rs: shrink range factor, gl: length factor

# G: generator function
# F: function to test
# m: message
#_Gen_â†{ G _ğ•£_ F m:
  #pâ†@
  #jâ†10â‹„vâ†@â‹„rsâ†1â‹„iâ†0 â‹„ tâ†â‰>âŸ¨0âˆ¾grâ‹†â†•10, 0âˆ¾âŒŠglâ‹†â†•10âŸ© # rs: result

  #{ğ•Š:                                           # grow
    #xâ€¿yâ†iâŠt â‹„ iâ†©i+1 â‹„ lâ€¿hâ†xÃ—Â¯1â€¿1 â‹„ pâ†©v
    #(i<â‰ t)âˆ§rsâ†©G F vâ†©l+y r.Range 1+h-l
  #} â€¢_while_ (0âŠ¸â‰¢) @

  #{ğ•Š:                                           # shrink
    #v {ğ•©â†‘ËœâŒŠslÃ—â‰ ğ•©}âŸ(0.5<(r.Range 0)â‹†1.2) â†©       # shrink length
    #v {(âŠ£-srâŠ¸Ã—âˆ˜Ã—)âŒ¾((âŠ‘â’|ğ•©)âŠ¸âŠ) ğ•©}âŸ(0âŠ¸â‰ â‰ ) â†©        # shrink lagrest delta from 0
    #(j-âŸœ1â†©)âˆ§(1â‰¡(GâŸœF)âŸ(â‰¢âŸœp) v)
  #} â€¢_while_ {(0â‰¢ğ•©)âˆ§Â¬rs} @

  #âŠ¢â—¶âŸ¨
    #{ğ•Š: â€¢OutÂ¨mâ€¿"Counter example:"â€¿(â€¢Fmt F p) }
    #{ğ•Š: â€¢Out mâˆ¾": Ok" }
  #âŸ© rs
#}

_Genâ†{ F _ğ•£ ğ•©:
  pâ†vâ†r.Deal Ã—Â´ğ•©
  â€¢Show 10 r.Range 10
  #mâ†(10 r.Deal Ã—Â´ğ•©)Ã—(r.Deal<r.Deal) Ã—Â´ğ•©
  #â€¢SHow m
  #â€¢Show ğ•©â¥Šv
  #â€¢Show ğ•©â¥Šv+m

  #{ğ•Š:

    #âŠ
  #} â€¢_While_ âŠ£ 1
}

Fmtâ†{cğ•Šq:                                       # format string to replace âŒ¾X values 
  kâ†Â»zâ†c='âŒ¾' â‹„ câ€¿k (Â¬z)âŠ¸/ËœÂ¨â†©                    # with empty strings as default value
  âˆ¾(q((âŸ¨""âŸ©âˆ¾Ëœ1âŠ¸âŠ)âˆ˜âŠ£âŠËœâŠâŠ¸âŠ)k/c)âŒ¾(kâŠ¸/) c
}

#~ ğ•©:âŸ¨4,3âŸ© â†’ âŸ¨4,3âŸ© | ğ•©>0
Fâ†{ ğ•©+1 }

F _Gen 4â€¿3

#propâ‡{
  #râ†â€¢MakeRand 10
  #grâ†2 â‹„ glâ†1.5â‹„ srâ†1â‹„ slâ†0.9 # sl: length shrink factor, gr: range factor, rs: shrink range factor, gl: length factor

#}

#câ†"
##~ {aâ‡,bâ‡} â†’ âŸ¨2,nâŸ© | a:âŸ¨1,4âŸ© b:âŸ¨4,nâŸ©
#Fooâ†{ ğ•© }
#"

#dâ†"
##~ {a:âŸ¨1,4âŸ©, b:[2,4,n]} ğ•Š âŸ¨aâ‚,aâ‚‚âŸ© â†’ âŸ¨aâ‚,nâŸ© 
#Fooâ†{ ğ•©+2 }
#"

#eâ†"
## same shape
##~ âŸ¨2,3âŸ© â†’ âŸ¨2,3,4âŸ©
##~ âŸ¨2,3âŸ© â†’ âŸ¨xâ‚...xâ‚™âŸ© 
#Fooâ†{ ğ•©+2 }
#"

#câ†â€¢FChars âŠ‘â€¢args
#â€¢Show â€¢Import âŠ‘â€¢args

# compile specs
# generate tests?
# generate and shrink inputs


